!function(o){function n(){var e=o("#validateFrom");e.validate({errorContainer:"div.error",errorLabelContainer:e.find(".error-box"),wrapper:"p",rules:{username:{required:!0},password:{required:!0}},messages:{username:{required:"请输入您的账号"},password:{required:"请输入您的密码"}}}),e.on("click","button.btn-login",function(){var r;e.valid()&&(r=o.urlToObject2(e.serialize()),o.__Request__.login(r,function(e){200==e.code?(o.__Request__.save_token(e.result.token),void 0!==r.checked&&o.__Request__.remember_user(r),window.location.href="/"):o.Screen_Dialog.alert(e.msg)}))})}o(function(){var e,r;e=o("#validateFrom"),r=o.__Request__.get_remember_user(),e.html(template("tpl-login",r)),n()})}(jQuery);